import { MainAreaWidget } from '@jupyterlab/apputils';
import { IReplaceOptions, ISearchProvider, SearchProvider } from '@jupyterlab/documentsearch';
import { Terminal } from '@jupyterlab/terminal';
import { ITranslator } from '@jupyterlab/translation';
import { Widget } from '@lumino/widgets';
export type TerminalWidget = MainAreaWidget<Terminal>;
/**
 * Terminal search provider.
 */
export declare class TerminalSearchProvider extends SearchProvider<TerminalWidget> {
    protected widget: TerminalWidget;
    /**
     * Constructor.
     *
     * @param widget The widget to search in.
     */
    constructor(widget: TerminalWidget);
    /**
     * Create a search provider for the terminal widget.
     *
     * Note the widget provided is always checked using `isApplicable` before calling this
     * function.
     *
     * @param widget The terminal widget to search in.
     * @param translator [optional] The translator object.
     *
     * @returns The search provider for the terminal widget.
     */
    static createNew(widget: TerminalWidget, translator?: ITranslator): ISearchProvider;
    /**
     * Report whether or not this provider has the ability to search on the given object.
     */
    static isApplicable(domain: Widget): domain is TerminalWidget;
    /**
     * Clear currently highlighted match.
     */
    clearHighlight(): Promise<void>;
    /**
     * The current index of the selected match.
     */
    get currentMatchIndex(): number | null;
    /**
     * Stop a search and clear any internal state of the search provider.
     */
    endQuery(): Promise<void>;
    /**
     * Highlight the next match.
     *
     * @returns The next match if available
     */
    highlightNext(): Promise<undefined>;
    /**
     * Highlight the previous match.
     *
     * @returns The previous match if available.
     */
    highlightPrevious(): Promise<undefined>;
    /**
     * The number of matches.
     */
    get matchesCount(): number | null;
    /**
     * Replace the currently selected match with the provided text
     * Not implemented in the terminal as it is read-only.
     *
     * @returns A promise that resolves once the action has completed.
     */
    replaceCurrentMatch(newText: string, loop?: boolean, options?: IReplaceOptions): Promise<boolean>;
    /**
     * Replace all matches in the widget with the provided text
     * Not implemented in the terminal as it is read-only.
     *
     * @returns A promise that resolves once the action has completed.
     */
    replaceAllMatches(newText: string, options?: IReplaceOptions): Promise<boolean>;
    /**
     * Start a search using the provided query.
     *
     * @param query A RegExp to be use to perform the search
     */
    startQuery(query: RegExp): Promise<void>;
    /**
     * Clear current search.
     */
    private _clear;
    /**
     * Convert a color to the '#rrggbb' format expected by xtermjs SearchAddon.
     *
     * @param color Color to convert.
     * @param backgroundColor Background color to mix with `color` if it is not opaque.
     * @returns Color string of form '#rrggbb'
     */
    private _colorToRRGGBB;
    private _next;
    /**
     * Update cached xtermjs search decoration options following a theme change.
     * If a search is currently displayed, rerun it to update the colors.
     */
    private _onThemeChanged;
    private _previous;
    /**
     * Return xtermjs search options based on regex query flags and theme colors.
     *
     * @param flags Regex query flags.
     *
     * @returns xtermjs search options.
     */
    private _searchOptions;
    readonly isReadOnly = true;
    private _query?;
    private _currentMatchIndex;
    private _matchesCount;
    private _searchDecorationOptions?;
}
